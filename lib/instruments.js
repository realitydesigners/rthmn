/**
 * Instruments configuration: point and digits per symbol
 * Symbols are stored without separators (e.g., BTCUSD, EURUSD)
 */

const INSTRUMENTS = {
  FOREX: {
    EURUSD: { point: 0.00001, digits: 5 },
    GBPUSD: { point: 0.00001, digits: 5 },
    USDJPY: { point: 0.001, digits: 3 },
    AUDUSD: { point: 0.00001, digits: 5 },
    USDCAD: { point: 0.00001, digits: 5 },
    USDCHF: { point: 0.00001, digits: 5 },
    NZDUSD: { point: 0.00001, digits: 5 },
    EURGBP: { point: 0.00001, digits: 5 },
    EURJPY: { point: 0.001, digits: 3 },
    GBPJPY: { point: 0.001, digits: 3 },
    EURAUD: { point: 0.00001, digits: 5 },
    EURCAD: { point: 0.00001, digits: 5 },
    EURNZD: { point: 0.00001, digits: 5 },
    EURCHF: { point: 0.00001, digits: 5 },
    GBPAUD: { point: 0.00001, digits: 5 },
    GBPCAD: { point: 0.00001, digits: 5 },
    GBPCHF: { point: 0.00001, digits: 5 },
    GBPNZD: { point: 0.00001, digits: 5 },
    AUDCAD: { point: 0.00001, digits: 5 },
    AUDCHF: { point: 0.00001, digits: 5 },
    AUDJPY: { point: 0.001, digits: 3 },
    AUDNZD: { point: 0.00001, digits: 5 },
    CADJPY: { point: 0.001, digits: 3 },
    CADCHF: { point: 0.00001, digits: 5 },
    CHFJPY: { point: 0.001, digits: 3 },
    NZDCAD: { point: 0.00001, digits: 5 },
    NZDCHF: { point: 0.00001, digits: 5 },
    NZDJPY: { point: 0.001, digits: 3 },
    XAUUSD: { point: 0.01, digits: 2 },
    XAGUSD: { point: 0.001, digits: 3 },
  },
  CRYPTO: {
    BTCUSD: { point: 1.0, digits: 0 },
    ETHUSD: { point: 0.01, digits: 2 },
    XRPUSD: { point: 0.0001, digits: 4 },
    DOTUSD: { point: 0.0001, digits: 4 },
    ADAUSD: { point: 0.0001, digits: 4 },
    SOLUSD: { point: 0.01, digits: 2 },
    BNBUSD: { point: 0.01, digits: 2 },
    DOGEUSD: { point: 0.00001, digits: 5 },
    MATICUSD: { point: 0.0001, digits: 4 },
    AVAXUSD: { point: 0.01, digits: 2 },
    LINKUSD: { point: 0.0001, digits: 4 },
    UNIUSD: { point: 0.0001, digits: 4 },
    ATOMUSD: { point: 0.01, digits: 2 },
    LTCUSD: { point: 0.01, digits: 2 },
    FILUSD: { point: 0.01, digits: 2 },
    TRXUSD: { point: 0.00001, digits: 5 },
    XLMUSD: { point: 0.00001, digits: 5 },
    EOSUSD: { point: 0.0001, digits: 4 },
    XTZUSD: { point: 0.0001, digits: 4 },
    ALGOUSD: { point: 0.0001, digits: 4 },
    NEARUSD: { point: 0.0001, digits: 4 },
    ICPUSD: { point: 0.01, digits: 2 },
    AAVEUSD: { point: 0.01, digits: 2 },
    FTMUSD: { point: 0.0001, digits: 4 },
    SANDUSD: { point: 0.0001, digits: 4 },
    MANAUSD: { point: 0.0001, digits: 4 },
    SHIBAUSD: { point: 0.00001, digits: 5 },
    VETUSD: { point: 0.0001, digits: 4 },
    LUNAUSD: { point: 0.0001, digits: 4 },
    CROUSD: { point: 0.0001, digits: 4 },
    AXSUSD: { point: 0.01, digits: 2 },
    MKRUSD: { point: 0.01, digits: 2 },
    SNXUSD: { point: 0.0001, digits: 4 },
    COMPUSD: { point: 0.01, digits: 2 },
    GRTUSD: { point: 0.0001, digits: 4 },
    YFIUSD: { point: 0.01, digits: 2 },
    DASHUSD: { point: 0.01, digits: 2 },
    ZECUSD: { point: 0.01, digits: 2 },
    XMRUSD: { point: 0.01, digits: 2 },
    BCHUSD: { point: 0.01, digits: 2 },
    ENJUSD: { point: 0.0001, digits: 4 },
    CHZUSD: { point: 0.0001, digits: 4 },
    BATUSD: { point: 0.0001, digits: 4 },
    QNTUSD: { point: 0.0001, digits: 4 },
    OMGUSD: { point: 0.0001, digits: 4 },
    KAVAUSD: { point: 0.0001, digits: 4 },
    KSMUSD: { point: 0.01, digits: 2 },
    NEOUSD: { point: 0.0001, digits: 4 },
    ONEUSD: { point: 0.0001, digits: 4 },
    RVNUSD: { point: 0.0001, digits: 4 },
    ZILUSD: { point: 0.0001, digits: 4 },
    ANKRUSD: { point: 0.0001, digits: 4 },
    CRVUSD: { point: 0.0001, digits: 4 },
    RENUSUD: { point: 0.0001, digits: 4 },
    SKLUSD: { point: 0.0001, digits: 4 },
    SRMUSD: { point: 0.0001, digits: 4 },
  },
  EQUITY: {
    AAPL: { point: 0.01, digits: 2 },
    MSFT: { point: 0.01, digits: 2 },
    GOOGL: { point: 0.01, digits: 2 },
    AMZN: { point: 0.01, digits: 2 },
    META: { point: 0.01, digits: 2 },
    NVDA: { point: 0.01, digits: 2 },
    TSLA: { point: 0.01, digits: 2 },
    JPM: { point: 0.01, digits: 2 },
    V: { point: 0.01, digits: 2 },
    WMT: { point: 0.01, digits: 2 },
    JNJ: { point: 0.01, digits: 2 },
    PG: { point: 0.01, digits: 2 },
    BAC: { point: 0.01, digits: 2 },
    DIS: { point: 0.01, digits: 2 },
    NFLX: { point: 0.01, digits: 2 },
    INTC: { point: 0.01, digits: 2 },
    KO: { point: 0.01, digits: 2 },
    PEP: { point: 0.01, digits: 2 },
    AMD: { point: 0.01, digits: 2 },
    ADBE: { point: 0.01, digits: 2 },
    CSCO: { point: 0.01, digits: 2 },
    CMCSA: { point: 0.01, digits: 2 },
    COST: { point: 0.01, digits: 2 },
    DHR: { point: 0.01, digits: 2 },
    HD: { point: 0.01, digits: 2 },
    MA: { point: 0.01, digits: 2 },
    MRK: { point: 0.01, digits: 2 },
    NKE: { point: 0.01, digits: 2 },
    ORCL: { point: 0.01, digits: 2 },
    CRM: { point: 0.01, digits: 2 },
    TMO: { point: 0.01, digits: 2 },
    UNH: { point: 0.01, digits: 2 },
    XOM: { point: 0.01, digits: 2 },
    ABBV: { point: 0.01, digits: 2 },
    ABT: { point: 0.01, digits: 2 },
    ACN: { point: 0.01, digits: 2 },
    AVGO: { point: 0.01, digits: 2 },
    CVX: { point: 0.01, digits: 2 },
    LLY: { point: 0.01, digits: 2 },
    MCD: { point: 0.01, digits: 2 },
    MRNA: { point: 0.01, digits: 2 },
    PYPL: { point: 0.01, digits: 2 },
    QCOM: { point: 0.01, digits: 2 },
    UNP: { point: 0.01, digits: 2 },
    CVS: { point: 0.01, digits: 2 },
    LOW: { point: 0.01, digits: 2 },
    MDT: { point: 0.01, digits: 2 },
    MS: { point: 0.01, digits: 2 },
    NEE: { point: 0.01, digits: 2 },
    SBUX: { point: 0.01, digits: 2 },
    TGT: { point: 0.01, digits: 2 },
    UPS: { point: 0.01, digits: 2 },
    CAT: { point: 0.01, digits: 2 },
    GE: { point: 0.01, digits: 2 },
    GM: { point: 0.01, digits: 2 },
    IBM: { point: 0.01, digits: 2 },
    MMM: { point: 0.01, digits: 2 },
    BA: { point: 0.01, digits: 2 },
    DOW: { point: 0.01, digits: 2 },
    GS: { point: 0.01, digits: 2 },
    HON: { point: 0.01, digits: 2 },
    RTX: { point: 0.01, digits: 2 },
    WFC: { point: 0.01, digits: 2 },
  },
  ETF: {
    SPY: { point: 0.01, digits: 2 },
    QQQ: { point: 0.01, digits: 2 },
    IWM: { point: 0.01, digits: 2 },
    VTI: { point: 0.01, digits: 2 },
    VOO: { point: 0.01, digits: 2 },
    DIA: { point: 0.01, digits: 2 },
    EFA: { point: 0.01, digits: 2 },
    EEM: { point: 0.01, digits: 2 },
    TLT: { point: 0.01, digits: 2 },
    GLD: { point: 0.01, digits: 2 },
    VGK: { point: 0.01, digits: 2 },
    XLV: { point: 0.01, digits: 2 },
    XLI: { point: 0.01, digits: 2 },
    XLU: { point: 0.01, digits: 2 },
    XLP: { point: 0.01, digits: 2 },
    XLB: { point: 0.01, digits: 2 },
    XLC: { point: 0.01, digits: 2 },
    XLRE: { point: 0.01, digits: 2 },
    XLY: { point: 0.01, digits: 2 },
    GOVT: { point: 0.01, digits: 2 },
    LQD: { point: 0.01, digits: 2 },
    SPDW: { point: 0.01, digits: 2 },
    SPEM: { point: 0.01, digits: 2 },
    SPYG: { point: 0.01, digits: 2 },
    SPYV: { point: 0.01, digits: 2 },
  },
};

function getInstrumentConfig(symbol) {
  if (!symbol) return { digits: 2 };
  const normalized = String(symbol).replace("/", "").toUpperCase();
  const categories = Object.values(INSTRUMENTS);
  for (let i = 0; i < categories.length; i += 1) {
    const category = categories[i];
    if (normalized in category) {
      return category[normalized];
    }
  }
  return { digits: 2 };
}

module.exports = {
  INSTRUMENTS,
  getInstrumentConfig,
};
